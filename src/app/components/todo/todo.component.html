<mat-card class="add-todo-card">
  <mat-card-content class="add-todo-card-content">
    <form class="add-todo-form" [formGroup]="todoForm">
      <mat-form-field class="add-todo-input" appearance="outline">
        <mat-label>Добавьте задачу</mat-label>
        <input formControlName="task" matInput [cdkTrapFocusAutoCapture]="isEditEnable" [cdkTrapFocus]="isEditEnable">
        <mat-error *ngIf="todoForm.invalid">Поле не может быть пустым</mat-error>
      </mat-form-field>
    </form>
    <button (click)="onAddTask()" *ngIf="!isEditEnable" class="add-todo-button" mat-icon-button color="primary" [disabled]="todoForm.invalid">
      <mat-icon>add</mat-icon>
    </button>
    <button (click)="onUpdateTask()" *ngIf="isEditEnable" class="add-todo-button" mat-icon-button color="primary" [disabled]="todoForm.invalid">
      <mat-icon>save</mat-icon>
    </button>
  </mat-card-content>
</mat-card>

<mat-card class="todos-card">
  <mat-card-content class="todos-card-content">
    <div class="todos" *ngFor="let todo of tasks; index as i">
      <div [class]="todo.done ? 'done' : null">
        {{todo.description}}
      </div>
      <div>
        <button (click)="onCheckDone(todo)" [disabled]="isEditEnable" class="done-todo-button" mat-icon-button color="primary">
          <mat-icon>done</mat-icon>
        </button>
        <button (click)="onDeleteTask(i)" [disabled]="isEditEnable" class="delete-todo-button" mat-icon-button color="primary">
          <mat-icon>delete</mat-icon>
        </button>
        <button (click)="onEditTask(todo, i)" [disabled]="isEditEnable" class="edit-todo-button" mat-icon-button color="primary">
          <mat-icon>edit</mat-icon>
        </button>
      </div>
    </div>
  </mat-card-content>
</mat-card>
